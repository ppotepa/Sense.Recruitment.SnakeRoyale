!function(e){function webpackJsonpCallback(n){for(var o,a,c=n[0],u=n[1],d=n[2],s=0,l=[];s<c.length;s++)a=c[s],Object.prototype.hasOwnProperty.call(t,a)&&t[a]&&l.push(t[a][0]),t[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(i&&i(n);l.length;)l.shift()();return r.push.apply(r,d||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,n=0;n<r.length;n++){for(var o=r[n],a=!0,c=1;c<o.length;c++){var i=o[c];0!==t[i]&&(a=!1)}a&&(r.splice(n--,1),e=__webpack_require__(__webpack_require__.s=o[0]))}return e}var n={},t={0:0},r=[];function __webpack_require__(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,t){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(__webpack_require__.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)__webpack_require__.d(t,r,function(n){return e[n]}.bind(null,r));return t},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="";var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=webpackJsonpCallback,o=o.slice();for(var c=0;c<o.length;c++)webpackJsonpCallback(o[c]);var i=a;r.push([46,1]),checkDeferredModules()}({46:function(e,n,t){"use strict";var r=t(47);t(48),t(71);var o=r(t(73));t(38);var a=r(t(74)),c=Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function get(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]},i=Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n},__importStar=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&c(n,e,t);return i(n,e),n},__importDefault=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=__importDefault(t(75)),d=t(85),s=__importStar(t(43));t(95);var l=new s.Application({backgroundColor:13882323,width:1920,height:1080}),f=l.stage;function resizeCanvas(){var e=function resize(){l.renderer.resize(window.innerWidth,window.innerHeight),l.stage.scale.x=window.innerWidth/1920,l.stage.scale.y=window.innerHeight/1080};e(),window.addEventListener("resize",e)}window.onload=(0,a.default)(o.default.mark((function _callee(){return o.default.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:document.body.appendChild(l.view),resizeCanvas();case 2:case"end":return e.stop()}}),_callee)})));var _={},p=function validateObjectExistence(e){if(void 0===_[e.HashCode]){var n=d.SpriteGenerator.getSprite(e.Position.X,e.Position.Y,e.BitmapName);_[e.HashCode]=n,f.addChild(n)}else _[e.HashCode].position.x=e.Position.X,_[e.HashCode].position.y=e.Position.Y},b=function removeObject(e){f.removeChild(_[e.HashCode]),delete _[e.HashCode],console.log("removed object ".concat(e.HashCode))};u.default.start(),u.default.addServerTickHandler((function(e){var n=JSON.parse(e.data);n.RemovedObjects.forEach(b),n.GameObjects.forEach(p)})),document.onkeypress=function(e){console.log(e),u.default.sendKeyPressedMessage(e.key)}},75:function(e,n,t){"use strict";t(39),t(79),t(82),Object.defineProperty(n,"__esModule",{value:!0}),n.CommandSocketModule=void 0;var r,o=t(84);!function(e){var n;e.generateUserHash=function(){return Math.random().toString(36).substring(2)};var t=e.generateUserHash();e.addServerTickHandler=function addServerTickHandler(e){n.onmessage=e},e.sendKeyPressedMessage=function sendKeyPressedMessage(e){switch(e){case"w":n.send(o.WebSocketCommandFactory.generateCommandString("moveplayer",0,-32,t));case"s":n.send(o.WebSocketCommandFactory.generateCommandString("moveplayer",0,32,t));case"a":n.send(o.WebSocketCommandFactory.generateCommandString("moveplayer",-32,0,t));case"d":n.send(o.WebSocketCommandFactory.generateCommandString("moveplayer",32,0,t))}},e.start=function start(){(n=new WebSocket("ws://localhost:2137/command")).onopen=function(e){var r=o.WebSocketCommandFactory.generateCommandString("registerconnection",t);n.send(r)},n.onmessage=function(e){return JSON.parse(e.data)},n.onclose=function(e){e.wasClean?console.log("[close] Connection closed cleanly, code=".concat(e.code," reason=").concat(e.reason)):console.log("[close] Connection died")},n.onerror=function(e){console.log("[error] ".concat(e))}}}(r=n.CommandSocketModule||(n.CommandSocketModule={})),n.default=r},84:function(e,n,t){"use strict";t(39),Object.defineProperty(n,"__esModule",{value:!0}),n.WebSocketCommandFactory=void 0,function(e){e.generateCommandString=function generateCommandString(e){switch(e){case"registerconnection":return"".concat(e," userHashCode:").concat(arguments.length<=1?void 0:arguments[1]);case"moveplayer":return"".concat(e," x:").concat(arguments.length<=1?void 0:arguments[1]," y:").concat(arguments.length<=2?void 0:arguments[2]," hashCode:").concat(arguments.length<=3?void 0:arguments[3])}return""}}(n.WebSocketCommandFactory||(n.WebSocketCommandFactory={}))},85:function(e,n,t){"use strict";var r=Object.create?function(e,n,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function get(){return n[t]}})}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]},o=Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n},__importStar=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&r(n,e,t);return o(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.SpriteGenerator=void 0;var a,c=__importStar(t(43));!function(e){e.getSprite=function getSprite(e,n,t){var r=new c.Sprite(c.Texture.from("assets/".concat(t)));return r.scale.set(1),r.x=e,r.y=n,r}}(a=n.SpriteGenerator||(n.SpriteGenerator={})),n.default=a},95:function(e,n,t){"use strict";t.r(n)}});